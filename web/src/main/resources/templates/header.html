<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:fragment="header">
    <script src="https://unpkg.com/htmx.org@2.0.1"></script>
    <script th:inline="javascript">
        var csrfToken = /*[[${_csrf.token}]]*/ 'token';
        var csrfHeader = /*[[${_csrf.headerName}]]*/ 'header';

        document.addEventListener("htmx:configRequest", function (evt) {
            if (evt.detail.verb !== "get") {
              evt.detail.headers[csrfHeader] = csrfToken;
            }
          });
    </script>
</head>
<body>

</body>
</html>